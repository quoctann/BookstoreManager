<!-- Trang chủ của phân hệ quản trị -->
{% extends 'admin/master.html' %}

<!--Ghi đè tiêu đề-->
{% block title %}
    {{ super() }}
    Quản trị hệ thống
{% endblock %}

<!-- Chèn thêm file để định dạng css -->
{% block head_css%}
    {{ super() }}
    <link href="{{ url_for('static', filename='css/admin-custom.css') }}" rel="stylesheet">
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Questrial&family=Roboto&display=swap" rel="stylesheet">
    <!-- Font awesome-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block message %}
    {% if err_msg %}
        <div class="bg-warning text-danger text-center">
            <h2>Lỗi đăng ký {{ err_msg }}</h2>
        </div>
    {% endif %}
{% endblock %}

{% block brand %}
    <a class="navbar-brand" href="{{ admin_view.admin.url }}">{{ admin_view.admin.name }} custom</a>
{% endblock %}

{% block body %}
    <!--Khi gọi current_user nó sẽ tham chiếu đến user_loader để sử dụng,
    nếu đã đăng nhập thì is_authenticated sẽ = True-->
    {% if current_user.is_authenticated %}
        <h1>Chào mừng đến với trang quản trị</h1>
        <h2>{{ current_user.name }}</h2>
    {% else %}
        {% include 'admin/login.html' %}
    {% endif %}
{% endblock %}